<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Financial Intelligence Platform | Enterprise Banking Analytics</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Authentication Screen -->
    <div id="auth-screen" class="auth-screen">
        <div class="auth-container">
            <div class="auth-header">
                <div class="logo">
                    <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                        <rect width="48" height="48" rx="12" fill="url(#gradient1)" />
                        <path d="M24 12L32 20L24 28L16 20L24 12Z" fill="white" opacity="0.9" />
                        <path d="M24 20L32 28L24 36L16 28L24 20Z" fill="white" opacity="0.6" />
                        <defs>
                            <linearGradient id="gradient1" x1="0" y1="0" x2="48" y2="48">
                                <stop offset="0%" stop-color="#667eea" />
                                <stop offset="100%" stop-color="#764ba2" />
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <h1>Financial Intelligence Platform</h1>
                <p class="subtitle">Enterprise-Grade Banking Analytics & AI</p>
            </div>

            <!-- Login Form -->
            <div id="login-form" class="auth-form active">
                <h2>Sign In</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" required placeholder="your.email@bank.com">
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required placeholder="Enter your password">
                    </div>
                    <button type="submit" class="btn btn-primary">Sign In</button>
                    <div class="form-footer">
                        <p>Don't have an account? <a href="#" id="show-register">Register</a></p>
                    </div>
                </form>
                <div class="demo-credentials">
                    <p><strong>Demo Account:</strong></p>
                    <p>Email: demo@financial.ai</p>
                    <p>Password: demo123</p>
                </div>
            </div>

            <!-- Register Form -->
            <div id="register-form" class="auth-form">
                <h2>Create Account</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="register-name">Full Name</label>
                        <input type="text" id="register-name" required placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email Address</label>
                        <input type="email" id="register-email" required placeholder="your.email@bank.com">
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" required placeholder="Minimum 6 characters">
                    </div>
                    <button type="submit" class="btn btn-primary">Create Account</button>
                    <div class="form-footer">
                        <p>Already have an account? <a href="#" id="show-login">Sign In</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app-screen" class="app-screen hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-small">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none">
                        <rect width="48" height="48" rx="12" fill="url(#gradient2)" />
                        <path d="M24 12L32 20L24 28L16 20L24 12Z" fill="white" opacity="0.9" />
                        <path d="M24 20L32 28L24 36L16 28L24 20Z" fill="white" opacity="0.6" />
                        <defs>
                            <linearGradient id="gradient2" x1="0" y1="0" x2="48" y2="48">
                                <stop offset="0%" stop-color="#667eea" />
                                <stop offset="100%" stop-color="#764ba2" />
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <h1>Antigravity</h1>
            </div>

            <!-- Command Interface in Header -->
            <div class="header-center">
                <div class="command-bar-wrapper">
                    <div class="command-icon">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </div>
                    <input type="text" id="command-input" class="command-input"
                        placeholder="Ask AI to analyze companies... (e.g. 'Compare Apple and Microsoft')"
                        autocomplete="off">
                </div>
            </div>

            <div class="header-right">
                <div class="active-chips" id="active-company-chips">
                    <!-- Selected companies appear here -->
                </div>
                <div class="user-info">
                    <span id="user-name">Loading...</span>
                </div>
                <button id="logout-btn" class="btn btn-secondary btn-sm">Logout</button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="app-content full-width">

            <!-- Main Panel -->
            <main class="main-panel chat-only">

                <!-- 1. Company Cards Grid (Default Start View) -->
                <section id="company-grid-section" class="content-section active">
                    <div class="grid-header">
                        <h2>Available Companies</h2>
                        <p>Select companies to begin analysis or ask AI.</p>
                    </div>
                    <div id="company-cards-container" class="company-cards-grid">
                        <!-- Cards injected by JS -->
                    </div>
                </section>

                <!-- 2. Chat/Analysis View -->
                <section id="chat-section" class="content-section">
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <!-- Dashboard or Chat content -->
                        </div>
                        <div class="chat-input-container">
                            <button id="attach-file-btn" class="btn-icon" title="Attach document">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path
                                        d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48" />
                                </svg>
                            </button>
                            <input type="file" id="chat-file-input" accept=".xlsx,.xls,.pdf,.csv,.doc,.docx,.txt" hidden
                                multiple>
                            <input type="text" id="chat-input" class="chat-input"
                                placeholder="Message AI Financial Assistant...">
                            <button id="chat-send-btn" class="btn-icon btn-send">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                        </div>
                        <div id="attached-files" class="attached-files hidden"></div>
                        <div class="chat-disclaimer">
                            <small>⚠️ AI-generated insights are for informational purposes only. Always consult with
                                qualified financial professionals.</small>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- AI Copilot Bubble -->
    <div id="copilot-bubble" class="copilot-bubble hidden">
        <div class="copilot-avatar">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                    d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z">
                </path>
            </svg>
        </div>
        <div class="copilot-message" id="copilot-text">
            Hi! I noticed updated data for <strong>FinEdge</strong>. Want to compare it?
        </div>
        <button class="copilot-close">&times;</button>
    </div>

    <!-- Create Company Modal -->
    <div id="company-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Company</h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <form id="company-form">
                <div class="form-group">
                    <label for="company-name">Company Name *</label>
                    <input type="text" id="company-name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="company-industry">Industry</label>
                    <input type="text" id="company-industry" class="form-control"
                        placeholder="e.g., Technology, Finance">
                </div>
                <div class="form-group">
                    <label for="company-ticker">Ticker Symbol</label>
                    <input type="text" id="company-ticker" class="form-control" placeholder="e.g., AAPL">
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Create Company</button>
                    <button type="button" class="btn btn-secondary" id="modal-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
</body>

</html>